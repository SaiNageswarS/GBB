<div class="container-fluid">
    <h1 class="page-header">Gozoomo BlueBook</h1>

    <div class="row">
        <div class="col-md-12" style="text-align: center">
            <h2>Status: {{status}}</h2>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    Upload new training file or mapping file.
                </div>
                <div class="panel-body">
                    <small>Note : Transaction data should be named txn.csv and mapping file as MappingPricer.csv</small>
                    <form style="padding-top: 15px">
                        <div class="form-group">
                            <input type="file" id="fileId"  nv-file-select uploader="uploader" ng-disabled="status !== 'IDLE'">
                        </div>
                         <ul>
                            <li ng-repeat="item in uploader.queue">
                                Name: <span ng-bind="item.file.name"></span><br/>
                                <button class="btn btn-success" ng-click="item.upload()">Upload</button>
                            </li>
                        </ul>
                    </form>
                    <div class="progress" style="">
                        <div class="progress-bar" role="progressbar" ng-style="{ 'width': uploader.progress + '%' }" style="width: 0%;"></div>
                    </div>
                    <p class="error-msg">{{uploadError}}</p>
                </div>
            </div>

        </div>

         <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    Train and generate price data
                </div>
                <div class="panel-body">
                    Trigger new GBB learner.
                    <button class="btn btn-success" ng-click="triggerTraining()" ng-disabled="status!=='IDLE'">
                        Start
                    </button>
                </div>
            </div>

        </div>

        <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    Download bucketed pricelist
                </div>
                <div class="panel-body">
                    <a href="/assets/result_python3.csv" class="btn btn-success">Download</a>
                </div>
            </div>

        </div>

        <div class="col-md-3">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    Update pricelist DB
                </div>
                <div class="panel-body">

                </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="panel panel-default">
              <div class="panel-body">
                <ul class="list-unstyled">
                    <li ng-repeat="log in logs | orderBy: '$index': true">
                        {{log.task_date*1000 | date: 'medium'}} - {{log.task}}
                    </li>
                </ul>
              </div>
            </div>
        </div>

    </div>
</div>